{% extends 'admin/nav.html' %}
{% load static %}

{% block title %}
<title>C E | Contact Information</title>
{% endblock %}

{% block body_block %}
<section class="container-fluid mt-2 p-3">
  <div class="container mt-4 shadow-lg p-4 rounded">
    <h4 class="mb-3 text-center fw-bold">Page Settings</h4>
    <div class="d-flex justify-content-start gap-4 fw-bold">
        <div>
            <a href="{% url 'aboutinfo' %}" class="text-decoration-none text-black">About</a>
        </div>
        <div>
            <a href="{% url 'contactinfo' %}" class="text-decoration-none text-black">Contact</a>
        </div>
    </div>
    <hr>

     {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }}" id="msg" role="alert">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}

    <script>
      // Auto-hide messages after 10 seconds
      setTimeout(function() {
        var msg = document.getElementById('msg');
        if (msg) {
          msg.style.display = 'none';
        }
      }, 10000);
    </script>

    <!-- Form -->
    <form method="post" action="">
      {% csrf_token %}
      
      <!-- Address -->
      <div class="mb-3 row">
        <label for="editor1" class="col-sm-2 col-form-label fw-bold">Address:</label>
        <div class="col-sm-10">
          <textarea class="form-control" name="address" id="editor1" rows="3">{{contact.c_address}}</textarea>
        </div>
      </div>

      
      <!-- Email -->
      <div class="mb-3">
        <label for="email" class="form-label fw-bold">Email address:</label>
        <input 
          type="email" 
          class="form-control" 
          id="email" 
          name="email" 
          placeholder="Enter email"
          value="{{ contact.c_email }}">
      </div>

      <!-- Phone -->
      <div class="mb-3">
        <label for="phone" class="form-label fw-bold">Phone Number:</label>
        <input 
          type="text" 
          class="form-control" 
          id="phone" 
          name="phone" 
          placeholder="Enter phone number"
          value="{{ contact.c_phone }}">
      </div>

      <!-- Buttons -->
      <div class="d-flex justify-content-center gap-2">
        <button type="submit" class="btn btn-primary">
          <i class="bi bi-save"></i> Save Changes
        </button>
        <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary">
          <i class="bi bi-arrow-left-circle"></i> Back
        </a>
      </div>
    </form>
  </div>
</section>
{% endblock %}

<!-- CKEditor 4.25.1-lts -->
<script src="https://cdn.ckeditor.com/4.22.1/full/ckeditor.js"></script>
<script>
    const toolbarConfig = [
      { name: 'basicstyles', items: ['Bold', 'Italic', 'Underline', 'Strike'] },
      { name: 'styles', items: ['Font', 'FontSize', 'TextColor', 'BGColor'] },
      { name: 'paragraph', items: ['NumberedList', 'BulletedList', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight'] },
      { name: 'insert', items: ['Table', 'Image', 'HorizontalRule'] },
      { name: 'tools', items: ['Maximize', 'Source'] }
    ];

    CKEDITOR.replace('editor1', {
      height: 150,
      toolbar: toolbarConfig,
      removePlugins: 'flash,iframe,forms,pagebreak'
    });

</script>