{% extends 'admin/nav.html' %}

{% block title %}
<title>C E | Edit Product Category</title>
{% endblock %}

{% block body_block %}

<style>
    /* Keep same font-size â€” only UI improved */
    .form-label {
        font-weight: 600;
    }

    .preview-img {
        max-width: 110px;
        border: 1px solid #d1d1d1;
        border-radius: 8px;
        padding: 3px;
        background: #fafafa;
    }

    .card-tech {
        background: #ffffff;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0px 4px 15px rgba(0,0,0,0.12);
        border: 1px solid #e3e3e3;
    }

    .header-line {
        border-bottom: 2px solid #e0e0e0;
        margin-bottom: 15px;
        padding-bottom: 5px;
    }
</style>

<section class="container-fluid mt-4 mb-5">
    <div class="container card-tech">

        <!-- Title -->
        <div class="header-line text-center">
            <h3 class="fw-bold m-0">Update Product Category</h3>
        </div>

        <p class="text-danger fw-bold">* All Fields Are Mandatory</p>

        <!-- Alerts -->
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} fw-bold text-center" id="msg">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}

        <script>
            setTimeout(() => {
                let msg = document.getElementById('msg');
                if (msg) msg.style.display = "none";
            }, 6000);
        </script>

        <!-- Form -->
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="row g-4">

                <!-- Category ID -->
                <div class="col-md-6">
                    <label class="form-label">Product Category ID <span class="text-danger">*</span></label>
                    <input type="number"
                           name="product_cat_id"
                           class="form-control"
                           value="{{ category.pctid }}"
                           readonly required>
                </div>

                <!-- Category Name -->
                <div class="col-md-6">
                    <label class="form-label">Product Category Name <span class="text-danger">*</span></label>
                    <input type="text"
                           name="product_category_name"
                           class="form-control"
                           value="{{ category.pctname }}"
                           required>
                </div>

                <!-- Image Upload -->
                <div class="col-md-6">
                    <label class="form-label">Product Image <span class="text-danger">*</span></label>
                    <input type="file"
                           name="product_cat_image"
                           class="form-control"
                           required>

                    {% if category.pimage %}
                        <img src="{{ category.pimage.url }}"
                             alt="Current Image"
                             class="preview-img mt-2">
                    {% endif %}
                </div>

            </div>

            <!-- Button -->
            <div class="text-center mt-4">
                <button type="submit" class="btn btn-primary px-5 fw-bold">
                    Update
                </button>
            </div>

        </form>

    </div>
</section>

{% endblock %}
